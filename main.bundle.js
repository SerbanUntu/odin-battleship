/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={555:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(354),a=n.n(r),s=n(314),o=n.n(s),i=n(417),l=n.n(i),c=new URL(n(691),n.b),d=o()(a()),A=l()(c);d.push([t.id,`.board {\n\tpadding: var(--board-padding);\n\tborder: var(--board-border) solid var(--cell-bg);\n\tbackground: var(--board-bg);\n\tdisplay: grid;\n\tgrid-template-columns: repeat(10, var(--cell-size));\n\tgrid-template-rows: repeat(10, var(--cell-size));\n\tgap: var(--grid-gap);\n\twidth: fit-content;\n\tborder-radius: 1rem;\n\n\t.cell {\n\t\tposition: relative;\n\t\tborder: none;\n\t\toutline: none;\n\t\tpadding: 0;\n\t\tbackground: url(${A});\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t> * {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n\n\t.ship-image {\n\t\ttop: 2px;\n\t\tleft: 2px;\n\t\tmax-width: 9999px;\n\t\tz-index: 100;\n\t\tpointer-events: none;\n\t\tuser-select: none;\n\t}\n\n\t.ship-image.facing-north {\n\t\ttransform: translate(-50%) rotate(-90deg) translate(-50%);\n\t\ttop: -12px;\n\t\tleft: 16px;\n\t}\n\n\t.ship-image.facing-south {\n\t\ttransform: translate(-50%) rotate(-90deg) translate(50%);\n\t\ttop: 16px;\n\t\tleft: 16px;\n\t}\n\t\n\t.ship-image.facing-east {\n\t\ttransform: translate(-100%);\n\t\tleft: 30px;\n\t}\n\n\t.mark {\n\t\tz-index: 200;\n\t\tpointer-events: none;\n\t\tuser-select: none;\n\t}\n\n}\n\n.no-ships.board {\n\t.cell:hover { \n\t\topacity: 0.75;\n\t\tcursor: pointer;\n\t}\n\n\t.ship-image {\n\t\tdisplay: none;\n\t}\n}\n\n.board-section:has(.placing.board) {\n\tflex: 1;\n}\n\n.active.board {\n\tpointer-events: none;\n\tuser-select: none;\n}`,"",{version:3,sources:["webpack://./src/components/board/index.css"],names:[],mappings:"AAAA;CACC,6BAA6B;CAC7B,gDAAgD;CAChD,2BAA2B;CAC3B,aAAa;CACb,mDAAmD;CACnD,gDAAgD;CAChD,oBAAoB;CACpB,kBAAkB;CAClB,mBAAmB;;CAEnB;EACC,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,UAAU;EACV,mDAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB;GACC,kBAAkB;EACnB;CACD;;CAEA;EACC,QAAQ;EACR,SAAS;EACT,iBAAiB;EACjB,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;CAClB;;CAEA;EACC,yDAAyD;EACzD,UAAU;EACV,UAAU;CACX;;CAEA;EACC,wDAAwD;EACxD,SAAS;EACT,UAAU;CACX;;CAEA;EACC,2BAA2B;EAC3B,UAAU;CACX;;CAEA;EACC,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;CAClB;;AAED;;AAEA;CACC;EACC,aAAa;EACb,eAAe;CAChB;;CAEA;EACC,aAAa;CACd;AACD;;AAEA;CACC,OAAO;AACR;;AAEA;CACC,oBAAoB;CACpB,iBAAiB;AAClB",sourcesContent:[".board {\n\tpadding: var(--board-padding);\n\tborder: var(--board-border) solid var(--cell-bg);\n\tbackground: var(--board-bg);\n\tdisplay: grid;\n\tgrid-template-columns: repeat(10, var(--cell-size));\n\tgrid-template-rows: repeat(10, var(--cell-size));\n\tgap: var(--grid-gap);\n\twidth: fit-content;\n\tborder-radius: 1rem;\n\n\t.cell {\n\t\tposition: relative;\n\t\tborder: none;\n\t\toutline: none;\n\t\tpadding: 0;\n\t\tbackground: url(../../images/empty_cell.svg);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t> * {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n\n\t.ship-image {\n\t\ttop: 2px;\n\t\tleft: 2px;\n\t\tmax-width: 9999px;\n\t\tz-index: 100;\n\t\tpointer-events: none;\n\t\tuser-select: none;\n\t}\n\n\t.ship-image.facing-north {\n\t\ttransform: translate(-50%) rotate(-90deg) translate(-50%);\n\t\ttop: -12px;\n\t\tleft: 16px;\n\t}\n\n\t.ship-image.facing-south {\n\t\ttransform: translate(-50%) rotate(-90deg) translate(50%);\n\t\ttop: 16px;\n\t\tleft: 16px;\n\t}\n\t\n\t.ship-image.facing-east {\n\t\ttransform: translate(-100%);\n\t\tleft: 30px;\n\t}\n\n\t.mark {\n\t\tz-index: 200;\n\t\tpointer-events: none;\n\t\tuser-select: none;\n\t}\n\n}\n\n.no-ships.board {\n\t.cell:hover { \n\t\topacity: 0.75;\n\t\tcursor: pointer;\n\t}\n\n\t.ship-image {\n\t\tdisplay: none;\n\t}\n}\n\n.board-section:has(.placing.board) {\n\tflex: 1;\n}\n\n.active.board {\n\tpointer-events: none;\n\tuser-select: none;\n}"],sourceRoot:""}]);const p=d},248:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,'.interruption-container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tflex-direction: column;\n\talign-items: center;\n\tbackdrop-filter: blur(0.25rem);\n\tz-index: 300;\n\n\t&:has(.pass-device-interruption) {\n\t\tbackground: black;\n\t}\n}\n\n.interruption {\n\tposition: absolute;\n\twidth: 100%;\n\tmax-width: 100%;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\tborder: none;\n\tgap: 2rem;\n\tbackground: var(--text-secondary);\n\tcolor: inherit;\n\n\t.interruption-name {\n\t\tfont-size: 4rem;\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t}\n\n\tbutton.decision {\n\t\tborder: none;\n\t\tbackground: var(--app-bg);\n\t\tcursor: pointer;\n\t\tborder-radius: 0.5rem;\n\t\tfont-size: 2rem;\n\t\tpadding: 0.5rem 2rem;\n\t\tcolor: var(--text-secondary);\n\n\t\t&:hover {\n\t\t\tbackground: var(--board-bg);\n\t\t}\n\n\t\t&:focus {\n\t\t\toutline: 4px solid white;\n\t\t\toutline-offset: -4px;\n\t\t}\n\t}\n\n\t.input-section {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.names-form {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t}\n}\n\n[data-against-computer="true"] .input-section:has(#player-two-name) {\n\tdisplay: none;\n}',"",{version:3,sources:["webpack://./src/components/interruption/index.css"],names:[],mappings:"AAAA;CACC,kBAAkB;CAClB,MAAM;CACN,OAAO;CACP,YAAY;CACZ,aAAa;CACb,sBAAsB;CACtB,mBAAmB;CACnB,8BAA8B;CAC9B,YAAY;;CAEZ;EACC,iBAAiB;CAClB;AACD;;AAEA;CACC,kBAAkB;CAClB,WAAW;CACX,eAAe;CACf,QAAQ;CACR,2BAA2B;CAC3B,aAAa;CACb,sBAAsB;CACtB,mBAAmB;CACnB,uBAAuB;CACvB,aAAa;CACb,YAAY;CACZ,SAAS;CACT,iCAAiC;CACjC,cAAc;;CAEd;EACC,eAAe;CAChB;;CAEA;EACC,aAAa;EACb,SAAS;CACV;;CAEA;EACC,YAAY;EACZ,yBAAyB;EACzB,eAAe;EACf,qBAAqB;EACrB,eAAe;EACf,oBAAoB;EACpB,4BAA4B;;EAE5B;GACC,2BAA2B;EAC5B;;EAEA;GACC,wBAAwB;GACxB,oBAAoB;EACrB;CACD;;CAEA;EACC,aAAa;EACb,sBAAsB;CACvB;;CAEA;EACC,aAAa;EACb,SAAS;CACV;AACD;;AAEA;CACC,aAAa;AACd",sourcesContent:['.interruption-container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tflex-direction: column;\n\talign-items: center;\n\tbackdrop-filter: blur(0.25rem);\n\tz-index: 300;\n\n\t&:has(.pass-device-interruption) {\n\t\tbackground: black;\n\t}\n}\n\n.interruption {\n\tposition: absolute;\n\twidth: 100%;\n\tmax-width: 100%;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\tborder: none;\n\tgap: 2rem;\n\tbackground: var(--text-secondary);\n\tcolor: inherit;\n\n\t.interruption-name {\n\t\tfont-size: 4rem;\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t}\n\n\tbutton.decision {\n\t\tborder: none;\n\t\tbackground: var(--app-bg);\n\t\tcursor: pointer;\n\t\tborder-radius: 0.5rem;\n\t\tfont-size: 2rem;\n\t\tpadding: 0.5rem 2rem;\n\t\tcolor: var(--text-secondary);\n\n\t\t&:hover {\n\t\t\tbackground: var(--board-bg);\n\t\t}\n\n\t\t&:focus {\n\t\t\toutline: 4px solid white;\n\t\t\toutline-offset: -4px;\n\t\t}\n\t}\n\n\t.input-section {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.names-form {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t}\n}\n\n[data-against-computer="true"] .input-section:has(#player-two-name) {\n\tdisplay: none;\n}'],sourceRoot:""}]);const i=o},858:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,".message {\n\tleft: 0;\n\tpadding: 0 2rem;\n\tposition: absolute;\n\tbottom: 0;\n\ttransform: translateY(100%) translateY(1rem);\n\tfont-size: 1.5rem;\n\tcolor: var(--text-secondary);\n\n\t&.hit {\n\t\tcolor: var(--dark-red);\n\t}\n\n\t&.important {\n\t\tcolor: var(--red);\n\t}\n\n\t&.win {\n\t\tcolor: var(--neon-green);\n\t}\n}","",{version:3,sources:["webpack://./src/components/message/index.css"],names:[],mappings:"AAAA;CACC,OAAO;CACP,eAAe;CACf,kBAAkB;CAClB,SAAS;CACT,4CAA4C;CAC5C,iBAAiB;CACjB,4BAA4B;;CAE5B;EACC,sBAAsB;CACvB;;CAEA;EACC,iBAAiB;CAClB;;CAEA;EACC,wBAAwB;CACzB;AACD",sourcesContent:[".message {\n\tleft: 0;\n\tpadding: 0 2rem;\n\tposition: absolute;\n\tbottom: 0;\n\ttransform: translateY(100%) translateY(1rem);\n\tfont-size: 1.5rem;\n\tcolor: var(--text-secondary);\n\n\t&.hit {\n\t\tcolor: var(--dark-red);\n\t}\n\n\t&.important {\n\t\tcolor: var(--red);\n\t}\n\n\t&.win {\n\t\tcolor: var(--neon-green);\n\t}\n}"],sourceRoot:""}]);const i=o},661:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,".ship-menu {\n\tdisplay: flex;\n\tflex-flow: row wrap;\n\tgap: 1rem;\n\n\t.ship-button {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tborder-radius: 0.5rem;\n\t\tbackground: var(--board-bg);\n\t\tborder: none;\n\t\tpadding: 0.5rem 2rem;\n\t\tcolor: var(--text-secondary);\n\t\tcursor: pointer;\n\n\t\t* {\n\t\t\tuser-select: none;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t\t&:hover {\n\t\t\tcolor: var(--text-primary);\n\t\t}\n\t\t\n\t\t&:focus {\n\t\t\toutline: 4px solid white;\n\t\t\toutline-offset: -4px;\n\t\t}\n\n\t\t&.selected {\n\t\t\tbackground: var(--cell-bg);\n\t\t\tcolor: var(--text-primary);\n\t\t}\n\t}\n}","",{version:3,sources:["webpack://./src/components/ship-menu/index.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,mBAAmB;CACnB,SAAS;;CAET;EACC,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,qBAAqB;EACrB,2BAA2B;EAC3B,YAAY;EACZ,oBAAoB;EACpB,4BAA4B;EAC5B,eAAe;;EAEf;GACC,iBAAiB;GACjB,oBAAoB;EACrB;;EAEA;GACC,0BAA0B;EAC3B;;EAEA;GACC,wBAAwB;GACxB,oBAAoB;EACrB;;EAEA;GACC,0BAA0B;GAC1B,0BAA0B;EAC3B;CACD;AACD",sourcesContent:[".ship-menu {\n\tdisplay: flex;\n\tflex-flow: row wrap;\n\tgap: 1rem;\n\n\t.ship-button {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tborder-radius: 0.5rem;\n\t\tbackground: var(--board-bg);\n\t\tborder: none;\n\t\tpadding: 0.5rem 2rem;\n\t\tcolor: var(--text-secondary);\n\t\tcursor: pointer;\n\n\t\t* {\n\t\t\tuser-select: none;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t\t&:hover {\n\t\t\tcolor: var(--text-primary);\n\t\t}\n\t\t\n\t\t&:focus {\n\t\t\toutline: 4px solid white;\n\t\t\toutline-offset: -4px;\n\t\t}\n\n\t\t&.selected {\n\t\t\tbackground: var(--cell-bg);\n\t\t\tcolor: var(--text-primary);\n\t\t}\n\t}\n}"],sourceRoot:""}]);const i=o},249:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,":root {\n\t--cell-size: 32px;\n\t--grid-gap: 4px;\n\t--board-padding: 0.75rem;\n\t--board-border: 0.5rem;\n\n\t--app-bg: hsl(0deg 0% 10%);\n\t--board-bg: hsl(0deg 0% 15%);\n\t--cell-bg: hsl(0deg 0% 30%);\n\t--text-secondary: hsl(0deg 0% 50%);\n\t--text-primary: hsl(0deg 0% 90%);\n\n\t--red: hsl(0deg 90% 60%);\n\t--dark-red: hsl(0deg 70% 40%);\n\t--neon-green: hsl(100deg 100% 70%);\n}\n\nbody {\n\tbackground: var(--app-bg);\n\twidth: 100vw;\n\theight: 100vh;\n\tfont-size: 16px;\n\tdisplay: flex;\n\tpadding: 0 20vw;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-family: 'Pixelify Sans', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tcolor: var(--text-primary);\n}\n\nlabel {\n\tfont-size: 2rem;\n}\n\ninput {\n\tmin-width: 300px;\n\tbackground: none;\n\tfont-size: 2rem;\n\tborder: 2px solid var(--app-bg);\n\tcolor: var(--app-bg);\n\n\t&:focus {\n\t\toutline: 2px solid white;\n\t}\n}\n\n.board-section {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 2rem;\n}\n\n.board-owner {\n\tfont-size: 3rem;\n\tfont-weight: 400;\n\tmax-width: calc(var(--cell-size) * 10 + var(--grid-gap) * 9 + var(--board-padding) * 2 + var(--board-border) * 2);\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\ttext-align: center;\n}\n\n.ghost {\n\topacity: 0.5;\n\tpointer-events: none;\n}","",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;CACC,iBAAiB;CACjB,eAAe;CACf,wBAAwB;CACxB,sBAAsB;;CAEtB,0BAA0B;CAC1B,4BAA4B;CAC5B,2BAA2B;CAC3B,kCAAkC;CAClC,gCAAgC;;CAEhC,wBAAwB;CACxB,6BAA6B;CAC7B,kCAAkC;AACnC;;AAEA;CACC,yBAAyB;CACzB,YAAY;CACZ,aAAa;CACb,eAAe;CACf,aAAa;CACb,eAAe;CACf,mBAAmB;CACnB,8BAA8B;CAC9B,wCAAwC;CACxC,kBAAkB;CAClB,gBAAgB;CAChB,0BAA0B;AAC3B;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,gBAAgB;CAChB,gBAAgB;CAChB,eAAe;CACf,+BAA+B;CAC/B,oBAAoB;;CAEpB;EACC,wBAAwB;CACzB;AACD;;AAEA;CACC,kBAAkB;CAClB,aAAa;CACb,sBAAsB;CACtB,mBAAmB;CACnB,SAAS;AACV;;AAEA;CACC,eAAe;CACf,gBAAgB;CAChB,iHAAiH;CACjH,gBAAgB;CAChB,mBAAmB;CACnB,uBAAuB;CACvB,kBAAkB;AACnB;;AAEA;CACC,YAAY;CACZ,oBAAoB;AACrB",sourcesContent:[":root {\n\t--cell-size: 32px;\n\t--grid-gap: 4px;\n\t--board-padding: 0.75rem;\n\t--board-border: 0.5rem;\n\n\t--app-bg: hsl(0deg 0% 10%);\n\t--board-bg: hsl(0deg 0% 15%);\n\t--cell-bg: hsl(0deg 0% 30%);\n\t--text-secondary: hsl(0deg 0% 50%);\n\t--text-primary: hsl(0deg 0% 90%);\n\n\t--red: hsl(0deg 90% 60%);\n\t--dark-red: hsl(0deg 70% 40%);\n\t--neon-green: hsl(100deg 100% 70%);\n}\n\nbody {\n\tbackground: var(--app-bg);\n\twidth: 100vw;\n\theight: 100vh;\n\tfont-size: 16px;\n\tdisplay: flex;\n\tpadding: 0 20vw;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-family: 'Pixelify Sans', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tcolor: var(--text-primary);\n}\n\nlabel {\n\tfont-size: 2rem;\n}\n\ninput {\n\tmin-width: 300px;\n\tbackground: none;\n\tfont-size: 2rem;\n\tborder: 2px solid var(--app-bg);\n\tcolor: var(--app-bg);\n\n\t&:focus {\n\t\toutline: 2px solid white;\n\t}\n}\n\n.board-section {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 2rem;\n}\n\n.board-owner {\n\tfont-size: 3rem;\n\tfont-weight: 400;\n\tmax-width: calc(var(--cell-size) * 10 + var(--grid-gap) * 9 + var(--board-padding) * 2 + var(--board-border) * 2);\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\ttext-align: center;\n}\n\n.ghost {\n\topacity: 0.5;\n\tpointer-events: none;\n}"],sourceRoot:""}]);const i=o},993:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,"*, *::before, *::after {\n\tbox-sizing: border-box;\n}\n\n* {\n\tmargin: 0;\n}\n\nbody {\n\tline-height: 1.5;\n\t-webkit-font-smoothing: antialiased;\n}\n\nimg, picture, video, canvas, svg {\n\tdisplay: block;\n\tmax-width: 100%;\n}\n\ninput, button, textarea, select {\n\tfont: inherit;\n}\n\np, h1, h2, h3, h4, h5, h6 {\n\toverflow-wrap: break-word;\n}\n\n#root, #__next {\n\tisolation: isolate;\n}\n","",{version:3,sources:["webpack://./src/styles/reset.css"],names:[],mappings:"AAAA;CACC,sBAAsB;AACvB;;AAEA;CACC,SAAS;AACV;;AAEA;CACC,gBAAgB;CAChB,mCAAmC;AACpC;;AAEA;CACC,cAAc;CACd,eAAe;AAChB;;AAEA;CACC,aAAa;AACd;;AAEA;CACC,yBAAyB;AAC1B;;AAEA;CACC,kBAAkB;AACnB",sourcesContent:["*, *::before, *::after {\n\tbox-sizing: border-box;\n}\n\n* {\n\tmargin: 0;\n}\n\nbody {\n\tline-height: 1.5;\n\t-webkit-font-smoothing: antialiased;\n}\n\nimg, picture, video, canvas, svg {\n\tdisplay: block;\n\tmax-width: 100%;\n}\n\ninput, button, textarea, select {\n\tfont: inherit;\n}\n\np, h1, h2, h3, h4, h5, h6 {\n\toverflow-wrap: break-word;\n}\n\n#root, #__next {\n\tisolation: isolate;\n}\n"],sourceRoot:""}]);const i=o},434:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(354),a=n.n(r),s=n(314),o=n.n(s)()(a());o.push([t.id,".hidden {\n\tdisplay: none !important;\n}\n\n.pointer {\n\tcursor: pointer !important;\n}","",{version:3,sources:["webpack://./src/styles/util.css"],names:[],mappings:"AAAA;CACC,wBAAwB;AACzB;;AAEA;CACC,0BAA0B;AAC3B",sourcesContent:[".hidden {\n\tdisplay: none !important;\n}\n\n.pointer {\n\tcursor: pointer !important;\n}"],sourceRoot:""}]);const i=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(a," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},o=[],i=0;i<t.length;i++){var l=t[i],c=r.base?l[0]+r.base:l[0],d=s[c]||0,A="".concat(c," ").concat(d);s[c]=d+1;var p=n(A),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=a(u,r);r.byIndex=i,e.splice(i,0,{identifier:A,updater:h,references:1})}o.push(A)}return o}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var s=r(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var i=n(s[o]);e[i].references--}for(var l=r(t,a),c=0;c<s.length;c++){var d=n(s[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=l}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},691:(t,e,n)=>{t.exports=n.p+"8739581dde1f49e6b9f5.svg"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),a=n.n(r),s=n(825),o=n.n(s),i=n(659),l=n.n(i),c=n(56),d=n.n(c),A=n(540),p=n.n(A),u=n(113),h=n.n(u),m=n(993),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),a()(m.A,g),m.A&&m.A.locals&&m.A.locals;var C=n(249),f={};f.styleTagTransform=h(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p(),a()(C.A,f),C.A&&C.A.locals&&C.A.locals;var b=n(434),B={};B.styleTagTransform=h(),B.setAttributes=d(),B.insert=l().bind(null,"head"),B.domAPI=o(),B.insertStyleElement=p(),a()(b.A,B),b.A&&b.A.locals&&b.A.locals;class y{static NORTH=Symbol("Direction.NORTH");static EAST=Symbol("Direction.EAST");static SOUTH=Symbol("Direction.SOUTH");static WEST=Symbol("Direction.WEST")}class v{static CONFIG=Symbol("GameStage.CONFIG");static PLACING=Symbol("GameStage.PLACING");static BATTLE=Symbol("GameStage.BATTLE");static FINISHED=Symbol("GameStage.FINISHED")}class w{static EMPTY=Symbol("MessageType.EMPTY");static DEFAULT=Symbol("MessageType.DEFAULT");static HIT=Symbol("MessageType.HIT");static IMPORTANT=Symbol("MessageType.IMPORTANT");static WIN=Symbol("MessageType.WIN")}class E{static NONE=Symbol("BoardDisplay.NONE");static PLACING=Symbol("BoardDisplay.PLACING");static NO_SHIPS=Symbol("BoardDisplay.NO_SHIPS");static ACTIVE=Symbol("BoardDisplay.ACTIVE")}Symbol("Result.SUCCESS"),Symbol("Result.FAILURE"),Symbol("AttackOutcome.HIT"),Symbol("AttackOutcome.MISS"),Symbol("AttackOutcome.UNEXPECTED");var S=n(555),x={};x.styleTagTransform=h(),x.setAttributes=d(),x.insert=l().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=p(),a()(S.A,x),S.A&&S.A.locals&&S.A.locals;const T={Carrier:{src:n.p+"5e016664d0cfa3258348.svg",width:172,height:28},Battleship:{src:n.p+"bfe09bab8cf317564aeb.svg",width:136,height:28},Destroyer:{src:n.p+"68409aa22b4106d63200.svg",width:100,height:28},Submarine:{src:n.p+"90fcc83fe09f41e6af0a.svg",width:100,height:28},"Patrol boat":{src:n.p+"a3d5866af66130f4e293.svg",width:64,height:28},Miss:{src:n.p+"de24abe09279fcfd25e6.svg",width:12,height:12},Hit:{src:n.p+"d3c20cc259402d94877b.svg",width:16,height:16}};class N{name;length;hits=0;constructor(t,e){this.name=t,this.length=e}hit(){this.hits++}isSunk(){return this.hits>=this.length}}class k extends N{constructor(){super("Carrier",5)}}class P extends N{constructor(){super("Battleship",4)}}class L extends N{constructor(){super("Destroyer",3)}}class I extends N{constructor(){super("Submarine",3)}}class D extends N{constructor(){super("Patrol boat",2)}}function O(t){try{process}catch{t()}}function H(t){try{process,t()}catch{return}}function M(t){const e=t.split(" "),n=[];return e.forEach((t=>{n.push(t.toLowerCase())})),n.join("-")}function z(t){return`facing-${t.toString().slice(7,-1).split(".")[1].toLowerCase()}`}function R(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}function q(){return[y.EAST,y.NORTH,y.SOUTH,y.WEST][Math.floor(4*Math.random())]}class G{ship=null;hit=!1}class U{static size=10;component=null;ships=[];squares=[];constructor(t){this.component=t;for(let t=0;t<U.size;t++){const t=[];for(let e=0;e<U.size;e++)t.push(new G);this.squares.push(t)}}placeShip(t,e,n,r){if(this.ships.length>=5)return!1;let a,s;switch(r){case y.EAST:a=0,s=-1;break;case y.SOUTH:a=-1,s=0;break;case y.WEST:a=0,s=1;break;case y.NORTH:a=1,s=0;break;default:console.error(`Unexpected direction: ${r.toString()}`)}let o=n,i=e;for(let e=0;e<t.length;e++){if(o<0||o>=U.size)return!1;if(i<0||i>=U.size)return!1;if(this.squares[i][o].ship)return!1;o+=s,i+=a}o=n,i=e;for(let e=0;e<t.length;e++)this.squares[i][o].ship=t,o+=s,i+=a;return this.ships.push(t),O((()=>{this.component.renderShip(t,e,n,r)})),!0}receiveAttack(t,e){if(Number(t)!==t||Number(e)!==e||t<0||e<0||t>=U.size||e>=U.size||this.squares[t][e].hit)return null;if(this.squares[t][e].hit=!0,!this.squares[t][e].ship)return O((()=>{this.component.receiveAttack(t,e,!0)})),!1;const n=this.squares[t][e].ship;return n.hit(),O((()=>{this.component.receiveAttack(t,e,!1)})),n}areAllSunk(){return 0===this.ships.filter((t=>!t.isSunk())).length}reset(){this.ships=[],O((()=>{this.component.reset()}));for(let t=0;t<U.size;t++)for(let e=0;e<U.size;e++)this.squares[t][e].ship=null,this.squares[t][e].hit=!1}}class Y{ship;direction;constructor(t,e=y.WEST){this.ship=t,this.direction=e}getNewComponent(){const t=new Image,e=T[this.ship.name];return t.draggable=!1,t.classList.add("ship-image"),t.classList.add(z(this.direction)),t.width=e.width,t.height=e.height,t.src=e.src,t}}var F=n(661),j={};j.styleTagTransform=h(),j.setAttributes=d(),j.insert=l().bind(null,"head"),j.domAPI=o(),j.insertStyleElement=p(),a()(F.A,j),F.A&&F.A.locals&&F.A.locals;class W{static currentShip;static currentDirection=y.WEST;static#t=W.#e();static init(){W.moveToLeft()}static#e(){const t=document.createElement("div");return t.classList.add("ship-menu"),[new k,new P,new L,new I,new D].forEach((e=>{const n=document.createElement("button");n.classList.add("ship-button"),n.classList.add(`${M(e.name)}-button`),n.appendChild(new Y(e).getNewComponent());const r=document.createElement("p");r.textContent=e.name,n.appendChild(r),n.addEventListener("click",(r=>{r.preventDefault(),t.querySelectorAll("button").forEach((t=>t.classList.remove("selected"))),n.classList.add("selected"),W.currentShip=e})),t.appendChild(n)})),t}static getComponentReference(){return W.#t}static disableButton(t){document.querySelector(`.${M(t)}-button`).classList.add("hidden")}static close(){W.#t.classList.add("hidden")}static reload(){W.#t.classList.remove("hidden"),document.querySelectorAll(".ship-button").forEach((t=>t.classList.remove("selected","hidden")))}static moveToLeft(){W.#t.remove(),K.leftBoard.getSectionReference().appendChild(W.#t)}static moveToRight(){W.#t.remove(),K.rightBoard.getSectionReference().appendChild(W.#t)}static rotateCurrentClockwise(){switch(W.currentDirection){case y.SOUTH:W.currentDirection=y.WEST;break;case y.WEST:W.currentDirection=y.NORTH;break;case y.NORTH:W.currentDirection=y.EAST;break;case y.EAST:W.currentDirection=y.SOUTH;break;default:console.error(`Unexpected direction: ${W.currentDirection.toString()}`)}K.updateGhost()}static rotateCurrentCounterClockwise(){switch(W.currentDirection){case y.SOUTH:W.currentDirection=y.EAST;break;case y.EAST:W.currentDirection=y.NORTH;break;case y.NORTH:W.currentDirection=y.WEST;break;case y.WEST:W.currentDirection=y.SOUTH;break;default:console.error(`Unexpected direction: ${W.currentDirection.toString()}`)}K.updateGhost()}static removeSelection(){W.currentShip=null,document.querySelectorAll(".ghost").forEach((t=>t.remove())),W.#t.querySelectorAll("button").forEach((t=>t.classList.remove("selected")))}}window.addEventListener("keydown",(t=>{if(lt.getStage()===v.PLACING)switch(t.key){case"r":W.rotateCurrentClockwise();break;case"R":t.shiftKey&&W.rotateCurrentCounterClockwise();break;case"q":W.removeSelection()}}));var $=n(248),_={};_.styleTagTransform=h(),_.setAttributes=d(),_.insert=l().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=p(),a()($.A,_),$.A&&$.A.locals&&$.A.locals;class V{static opening;static naming;static closing;static pass;containerNode;dialogNode;constructor(){this.containerNode=this.getNewContainer(),this.dialogNode=this.containerNode.querySelector("dialog"),this.hide(),document.body.appendChild(this.getContainerReference())}static init(){V.opening=new Z,V.naming=new Q,V.closing=new X,V.pass=new J}getDialogReference(){return this.dialogNode}getContainerReference(){return this.containerNode}show(){this.containerNode.classList.remove("hidden"),this.dialogNode.show()}hide(){this.containerNode.classList.add("hidden"),this.dialogNode.close()}}class Z extends V{againstComputerButton;twoPlayersButton;constructor(){super(),this.againstComputerButton=this.dialogNode.querySelector(".against-computer"),this.twoPlayersButton=this.dialogNode.querySelector(".two-players")}getNewContainer(){const t=document.createElement("div");return t.classList.add("interruption-container","opening-interruption-container"),t.innerHTML='\n\t\t\t<dialog class="interruption opening-interruption">\n\t\t\t\t<h1 class="interruption-name">Select gamemode</h1>\n\t\t\t\t<div class="buttons">\n\t\t\t\t\t<button class="decision against-computer">Against computer</button>\n\t\t\t\t\t<button class="decision two-players">Two players</button>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t',t}}class Q extends V{startButton;form;firstInput;secondInput;constructor(){super(),this.startButton=this.dialogNode.querySelector(".start-game"),this.form=this.dialogNode.querySelector("form"),this.firstInput=this.dialogNode.querySelector(".player-one-name"),this.secondInput=this.dialogNode.querySelector(".player-two-name")}update(){this.dialogNode.querySelector('label[for="player-one-name"]').textContent=lt.againstComputer?"Your name":"Player 1's name",lt.againstComputer?this.secondInput.setAttribute("disabled",""):this.secondInput.removeAttribute("disabled")}getNewContainer(){const t=document.createElement("div");return t.classList.add("interruption-container","naming-interruption-container"),t.innerHTML='\n\t\t\t<dialog class="interruption naming-interruption">\n\t\t\t\t<form id="names-form" class="names-form">\n\t\t\t\t\t<section class="input-section">\n\t\t\t\t\t\t<label for="player-one-name"></label>\n\t\t\t\t\t\t<input id="player-one-name" class="player-one-name" name="player-one-name" type="text" required maxlength="20" />\n\t\t\t\t\t</section>\n\t\t\t\t\t<section class="input-section">\n\t\t\t\t\t\t<label for="player-two-name">Player 2&apos;s name</label>\n\t\t\t\t\t\t<input id="player-two-name" class="player-two-name" name="player-two-name" type="text" required maxlength="20" />\n\t\t\t\t\t</section>\n\t\t\t\t</form>\n\t\t\t\t<button type="submit" class="decision start-game" form="names-form">Start</button>\n\t\t\t</dialog>\n\t\t',t}}class X extends V{rematchButton;newPlayersButton;constructor(){super(),this.rematchButton=this.dialogNode.querySelector(".rematch"),this.newPlayersButton=this.dialogNode.querySelector(".new-players")}updateName(t){this.dialogNode.querySelector(".interruption-name").textContent=`${t} won!`}getNewContainer(){const t=document.createElement("div");return t.classList.add("interruption-container","closing-interruption-container"),t.innerHTML='\n\t\t\t<dialog class="interruption closing-interruption">\n\t\t\t\t<h1 class="interruption-name"></h1>\n\t\t\t\t<div class="buttons">\n\t\t\t\t\t<button class="decision rematch">Rematch</button>\n\t\t\t\t\t<button class="decision new-players">New players</button>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t',t}}class J extends V{continueButton;constructor(){super(),this.continueButton=this.dialogNode.querySelector(".continue")}updateName(t){this.dialogNode.querySelector(".interruption-name").textContent=`Pass the device to ${t}`}getNewContainer(){const t=document.createElement("div");return t.classList.add("interruption-container","pass-device-interruption-container"),t.innerHTML='\n\t\t\t<dialog class="interruption pass-device-interruption">\n\t\t\t\t<h1 class="interruption-name"></h1>\n\t\t\t\t<button class="decision continue">Continue</button>\n\t\t\t</dialog>\n\t\t',t}}class K{static leftBoard=null;static rightBoard=null;#t=this.#e();#n;#r;#a;constructor(t,e=E.NONE){this.#n=t,this.#n.appendChild(this.#t),this.#r=this.#n.querySelector(".board-owner"),this.setDisplay(e)}static init(){K.leftBoard=new K(document.querySelector("#left-section")),K.rightBoard=new K(document.querySelector("#right-section"))}static updateGhost(){document.querySelectorAll(".ghost").forEach((t=>{t.classList.remove("facing-west","facing-east","facing-north","facing-south"),t.classList.add(z(W.currentDirection))}))}static switchBoards(){return null===lt.winner&&lt.getStage()===v.BATTLE&&(V.pass.updateName(1===lt.turnOf?lt.getPlayerOne().name:lt.getPlayerTwo().name),V.pass.show(),V.pass.continueButton.onclick=t=>{t.preventDefault();const e=K.leftBoard.#a;K.leftBoard.setDisplay(K.rightBoard.#a),K.rightBoard.setDisplay(e),V.pass.hide()},!0)}getComponentReference(){return this.#t}getSectionReference(){return this.#n}setDisplay(t){switch(this.#a=t,this.#t.classList.remove("no-ships","placing","active"),this.#n.classList.remove("hidden"),this.#a){case E.NONE:this.#n.classList.add("hidden");break;case E.NO_SHIPS:this.#t.classList.add("no-ships");break;case E.PLACING:this.#t.classList.add("placing");break;case E.ACTIVE:this.#t.classList.add("active");break;default:console.error(`Unexpected display: ${this.#a.toString()}`)}}getHidden(){return this.hidden}#e(){const t=document.createElement("div");t.classList.add("board");for(let e=0;e<U.size;e++)for(let n=0;n<U.size;n++){const r=document.createElement("button");r.dataset.row=e,r.dataset.col=n,r.classList.add("cell"),r.setAttribute("tabindex","-1"),r.addEventListener("mouseenter",(t=>{t.preventDefault(),lt.getStage()===v.PLACING&&(W.currentShip?(r.classList.add("pointer"),this.renderShip(W.currentShip,e,n,W.currentDirection,!0)):r.classList.remove("pointer"))})),r.addEventListener("click",(t=>{if(t.preventDefault(),lt.getStage()===v.BATTLE){let t;t=this===lt.getPlayerOne().gameboard.component?lt.makeAttack(2,e,n):lt.makeAttack(1,e,n),null!==t&&(lt.getPlayerTwo().isComputer?setTimeout((()=>lt.attackFromComputer()),500):window.addEventListener("finish-streaming",(()=>{setTimeout((()=>K.switchBoards()),500)})))}else if(lt.getStage()===v.PLACING){if(!W.currentShip)return;lt.placeShip(lt.getCurrentlyPlacingPlayer().number,(r=W.currentShip.name,{Carrier:new k,Battleship:new P,Destroyer:new L,Submarine:new I,"Patrol boat":new D}[r]),e,n,W.currentDirection)&&(W.disableButton(W.currentShip.name),W.currentShip=null)}var r})),t.appendChild(r)}return t}renderShip(t,e,n,r,a=!1){const s=this.#t.querySelector(`.cell[data-row="${e}"][data-col="${n}"]`),o=new Y(t,r).getNewComponent();document.querySelectorAll(".ghost").forEach((t=>t.remove())),a&&o.classList.add("ghost"),s.appendChild(o)}receiveAttack(t,e,n){const r=this.#t.querySelector(`.cell[data-row="${t}"][data-col="${e}"]`),a=n?"Miss":"Hit",s=new Image(T[a].width,T[a].height);s.src=T[a].src,s.classList.add("mark"),r.appendChild(s)}updateOwnerText(t){this.#r.textContent=t,this.#r.setAttribute("title",t)}reset(){this.#t.querySelectorAll(".cell").forEach((t=>{t.replaceChildren()}))}}class tt{name;isComputer;number;gameboard;constructor(t,e,n,r){this.name=t,this.isComputer=e,this.number=n,this.gameboard=new U(r)}}class et extends tt{lastHits=[];constructor(){super("COMPUTER",!0,2,K.rightBoard)}}var nt=n(858),rt={};rt.styleTagTransform=h(),rt.setAttributes=d(),rt.insert=l().bind(null,"head"),rt.domAPI=o(),rt.insertStyleElement=p(),a()(nt.A,rt),nt.A&&nt.A.locals&&nt.A.locals;class at{static leftMessage=null;static rightMessage=null;#s;#o;#t=null;#i=null;constructor(t=w.EMPTY,e=""){this.#s=t,this.#o=e}static init(){const t=K.leftBoard.getSectionReference(),e=K.rightBoard.getSectionReference();at.leftMessage=new at,at.rightMessage=new at,t.appendChild(at.leftMessage.#e()),e.appendChild(at.rightMessage.#e())}#e(){const t=document.createElement("p");return this.#t=t,t.classList.add("message"),this.setType(this.#s),this.setContent(this.#o),t}setType(t){switch(this.#s=t,this.#t.classList.remove("hit","important","win","hidden"),t){case w.EMPTY:this.#t.classList.add("hidden");break;case w.HIT:this.#t.classList.add("hit");break;case w.IMPORTANT:this.#t.classList.add("important");break;case w.WIN:this.#t.classList.add("win")}}setContent(t){""===t?this.hide():this.show(),this.#o=t,this.streamContent()}streamContent(){this.#t.textContent="",null!==this.#i&&clearInterval(this.#i);const t=this.#o.split("");let e=0;this.#i=setInterval((()=>{if(e===t.length)return window.dispatchEvent(new Event("finish-streaming")),clearInterval(this.#i),void(this.#i=null);this.#t.textContent=this.#t.textContent+t[e],e++}),50)}updateMiss(){this.setType(w.DEFAULT),this.setContent("Miss.")}updateHit(){this.setType(w.HIT),this.setContent("It's a hit!")}updateSink(t="ship"){this.setType(w.IMPORTANT),this.setContent(`The ${t} was sunk!`)}updateWin(t){this.setType(w.WIN),t?this.setContent("The computer won!"):this.setContent("You won!")}updateEmpty(){this.setType(w.EMPTY),this.setContent("")}show(){this.#t.classList.remove("hidden")}hide(){this.#t.classList.add("hidden")}}let st=!1,ot=!1,it=!1;class lt{static#l=v.CONFIG;static#c=null;static#d=null;static#A=null;static againstComputer=null;static winner=null;static turnOf=1;static reloadForTesting(){return H((()=>{lt.getPlayerOne()&&lt.getPlayerOne().gameboard.reset(),lt.getPlayerTwo()&&lt.getPlayerTwo().gameboard.reset(),lt.#l=v.CONFIG,lt.#c=null,lt.#d=null,lt.#A=null,lt.againstComputer=null,lt.winner=null,lt.turnOf=1,st=!1,ot=!1,it=!1})),!0}static initWithOverride(){return H((()=>{lt.#l=v.FINISHED})),lt.restart()}static setAgainstComputer(t){lt.againstComputer=t,O((()=>{document.body.dataset.againstComputer=`${lt.againstComputer}`}))}static setPlayers(t,e){return lt.#l===v.CONFIG&&(lt.#c=new tt(t,!1,1,K.leftBoard),lt.#d=e?new tt(e,!1,2,K.rightBoard):new et,lt.#l=v.PLACING,lt.#A=lt.getPlayerOne(),!0)}static getPlayerOne(){return lt.#c}static getPlayerTwo(){return lt.#d}static getStage(){return lt.#l}static getCurrentlyPlacingPlayer(){return lt.#A}static placeShip(t,e,n,r,a){if(lt.#A.number!==t)return!1;if(lt.#l!==v.PLACING)return!1;const s=1===t?lt.getPlayerOne():lt.getPlayerTwo();if(s.gameboard.ships.filter((t=>t.name===e.name&&t.length===e.length)).length>0)return!1;if(0===[new k,new P,new L,new I,new D].filter((t=>t.name===e.name&&t.length===e.length)).length)return!1;const o=s.gameboard.placeShip(e,n,r,a);return 5===lt.#A.gameboard.ships.length&&(lt.#A=lt.getPlayerTwo(),O((()=>{st||(st=!0,window.dispatchEvent(new Event("first-placing-finish")))}))),lt.areAllShipsPlaced()&&(lt.#l=v.BATTLE,O((()=>{ot||(ot=!0,window.dispatchEvent(new Event("second-placing-finish")))}))),o}static autoPlace(t=!0,e=!0){if(lt.#l!==v.PLACING||t&&lt.getPlayerOne().gameboard.ships.length>0||e&&lt.getPlayerTwo().gameboard.ships.length>0)return!1;const n=[];return t&&n.push(1),e&&n.push(2),n.forEach((t=>{lt.placeShip(t,new k,5,3,y.WEST),lt.placeShip(t,new P,8,6,y.EAST),lt.placeShip(t,new L,2,1,y.WEST),lt.placeShip(t,new I,0,7,y.EAST),lt.placeShip(t,new D,6,2,y.SOUTH)})),!0}static randomPlace(t=!0,e=!0){if(lt.#l!==v.PLACING||t&&lt.getPlayerOne().gameboard.ships.length>0||e&&lt.getPlayerTwo().gameboard.ships.length>0)return!1;const n=[];return t&&n.push(1),e&&n.push(2),n.forEach((t=>{[new k,new P,new L,new I,new D].forEach((e=>{let n=lt.placeShip(t,e,...R(),q());for(;!0!==n;)n=lt.placeShip(t,e,...R(),q())}))})),!0}static areAllShipsPlaced(){return lt.#l!==v.CONFIG&&5===lt.getPlayerOne().gameboard.ships.length&&5===lt.getPlayerTwo().gameboard.ships.length}static makeAttack(t,e,n){if(lt.#l!==v.BATTLE||lt.turnOf!==t)return null;const r=2-t+1,a=1===t?lt.getPlayerTwo():lt.getPlayerOne(),s=1===t?lt.getPlayerOne():lt.getPlayerTwo();let o;return o=a.gameboard.receiveAttack(e,n),null===o?null:(lt.turnOf=r,a.gameboard.areAllSunk()&&(lt.#l=v.FINISHED,lt.winner=s),O((()=>{let t;if(t=1===r?at.leftMessage:at.rightMessage,!1===o)t.updateMiss();else if(a.gameboard.areAllSunk())t.updateWin(s.isComputer),it||(it=!0,window.dispatchEvent(new Event("game-end")));else{const r=a.gameboard.squares[e][n].ship;r.isSunk()?t.updateSink(r.name):t.updateHit()}})),o)}static attackFromComputer(){if(lt.#l!==v.BATTLE||!lt.getPlayerTwo().isComputer||2!==lt.turnOf)return null;const t=lt.getPlayerTwo();let e,n=null;if(0===t.lastHits.length)for(;null===n;)e=R(),n=lt.makeAttack(2,...e);else if(1===t.lastHits.length){const r=[[0,1],[0,-1],[-1,0],[1,0]];let a=0;for(;null===n&&a<4;)e=[t.lastHits[0][0]+r[a][0],t.lastHits[0][1]+r[a][1]],n=lt.makeAttack(2,...e),a++;if(4===a)for(;null===n;)e=R(),n=lt.makeAttack(2,...e)}else if(t.lastHits.length>1){let r=[t.lastHits[1][0]-t.lastHits[0][0],t.lastHits[1][1]-t.lastHits[0][1]];for(e=[t.lastHits[t.lastHits.length-1][0]+r[0],t.lastHits[t.lastHits.length-1][1]+r[1]],n=lt.makeAttack(2,...e),null===n?(t.lastHits=[t.lastHits[1],t.lastHits[0]],r=[t.lastHits[0][0]-t.lastHits[1][0],t.lastHits[0][1]-t.lastHits[1][1]],e=[t.lastHits[t.lastHits.length-1][0]+r[0],t.lastHits[t.lastHits.length-1][1]+r[1]],n=lt.makeAttack(2,...e),n||(t.lastHits=[])):!1===n&&(t.lastHits=[t.lastHits[1],t.lastHits[0]]);null===n;)e=R(),n=lt.makeAttack(2,...e)}return!1!==n&&t.lastHits.push(e),n}static rematch(){return lt.#l===v.FINISHED&&(lt.getPlayerOne().gameboard.reset(),lt.getPlayerTwo().gameboard.reset(),lt.#l=v.PLACING,lt.#A=lt.getPlayerOne(),lt.turnOf=1,lt.winner=null,st=!1,ot=!1,it=!1,!0)}static restart(){return lt.#l===v.FINISHED&&(lt.getPlayerOne().gameboard.reset(),lt.getPlayerTwo().gameboard.reset(),lt.#l=v.CONFIG,lt.#c=null,lt.#d=null,lt.#A=null,lt.againstComputer=null,lt.winner=null,lt.turnOf=1,st=!1,ot=!1,it=!1,!0)}}function ct(){V.opening.show(),V.opening.againstComputerButton.addEventListener("click",(t=>{t.preventDefault(),lt.setAgainstComputer(!0),V.opening.hide(),dt()})),V.opening.twoPlayersButton.addEventListener("click",(t=>{t.preventDefault(),lt.setAgainstComputer(!1),V.opening.hide(),dt()}))}function dt(){V.naming.update(),V.naming.show(),V.naming.form.reset(),V.naming.form.addEventListener("submit",(t=>{t.preventDefault(),lt.setPlayers(V.naming.firstInput.value,V.naming.secondInput.value),V.naming.hide(),W.moveToLeft(),W.reload(),K.leftBoard.updateOwnerText(lt.getPlayerOne().name),K.rightBoard.updateOwnerText(lt.getPlayerTwo().name),K.leftBoard.setDisplay(E.PLACING)}))}function At(){W.close(),K.leftBoard.setDisplay(E.ACTIVE),K.rightBoard.setDisplay(E.NO_SHIPS)}K.init(),at.init(),V.init(),W.init(),ct(),window.addEventListener("first-placing-finish",(()=>{lt.againstComputer?(lt.randomPlace(!1,!0),At()):(V.pass.updateName(lt.getPlayerTwo().name),V.pass.show(),V.pass.continueButton.onclick=t=>{t.preventDefault(),V.pass.hide(),W.moveToRight(),W.reload(),K.leftBoard.setDisplay(E.NONE),K.rightBoard.setDisplay(E.PLACING)})})),window.addEventListener("second-placing-finish",(()=>{lt.againstComputer||(V.pass.updateName(lt.getPlayerOne().name),V.pass.show(),V.pass.continueButton.onclick=t=>{t.preventDefault(),V.pass.hide(),At()})})),window.addEventListener("game-end",(()=>{setTimeout((()=>(V.closing.show(),V.closing.updateName(lt.winner.name),V.closing.rematchButton.addEventListener("click",(t=>{t.preventDefault(),V.closing.hide(),lt.rematch(),K.leftBoard.setDisplay(E.PLACING),K.rightBoard.setDisplay(E.NONE),at.leftMessage.updateEmpty(),at.rightMessage.updateEmpty(),W.moveToLeft(),W.reload()})),void V.closing.newPlayersButton.addEventListener("click",(t=>{t.preventDefault(),V.closing.hide(),lt.restart(),K.leftBoard.setDisplay(E.NONE),K.rightBoard.setDisplay(E.NONE),at.leftMessage.updateEmpty(),at.rightMessage.updateEmpty(),ct()})))),1e3)}))})();
//# sourceMappingURL=main.bundle.js.map